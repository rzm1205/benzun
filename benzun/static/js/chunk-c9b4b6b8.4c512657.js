(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c9b4b6b8"],{"1dd4":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{staticClass:"waybill_main"},[a("div",{staticClass:"waybill_tab"},[a("div",{class:{active_tab:0===t.curType},on:{click:function(e){t.curType=0,t.changeQueryByState(0)}}},[t._v("待确认")]),a("div",{class:{active_tab:1===t.curType},on:{click:function(e){t.curType=1,t.changeQueryByState(1)}}},[t._v("待付款")]),a("div",{class:{active_tab:2===t.curType},on:{click:function(e){t.curType=2,t.changeQueryByState(2)}}},[t._v("运输中")]),a("div",{class:{active_tab:3===t.curType},on:{click:function(e){t.curType=3,t.changeQueryByState(3)}}},[t._v("已完成")]),a("div",{class:{active_tab:6===t.curType},on:{click:function(e){t.curType=6,t.reset(6)}}},[t._v("重置数据")])]),a("div",{staticClass:"waybill_box"},[a("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:function(e){return t.queryPageInfo(t.curType)}},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.pageInfo.dataList,(function(e){return a("div",{key:e.id,staticClass:"waybill_list",on:{click:function(a){return t.goWaybillDetail(e.id,t.curType)}}},[a("div",{staticClass:"waybill_title"},[a("span",[t._v("订单号:")]),a("font",[t._v(t._s(e.orderNumber))])],1),a("div",{staticClass:"waybill_con"},[a("div",{staticClass:"waybill_process"},[a("div",{staticClass:"waybill_start"},[a("span",[t._v(t._s(e.addressee))]),0===t.curType||"0"===t.curType?a("span",{staticClass:"waybill_start_money"},[t._v(" RM "),a("font",[t._v(t._s(e.amountRm))])],1):t._e()]),a("div",{staticClass:"waybill_end"},[t._v(" "+t._s(e.receivareaText)+" ")])]),a("div",{staticClass:"waybill_time"},[3!=t.curType?a("span",[t._v("下单时间:")]):t._e(),3!=t.curType?a("font",[t._v(t._s(e.ctime))]):t._e(),3===t.curType?a("span",[t._v("完成时间:")]):t._e(),3===t.curType?a("font",[t._v(t._s(e.ftime))]):t._e()],1),2===t.curType?a("div",{staticClass:"waybill_view"},[a("span",{staticClass:"waybill_router",on:{click:function(e){return e.stopPropagation(),t.queryExpressRouter(e)}}},[t._v("查看物流")]),a("span",{staticClass:"waybill_confirm",on:{click:function(a){return a.stopPropagation(),t.receiptDialog(e.id)}}},[t._v("确认签收")])]):t._e()])])})),0),t.pageInfo.length>0?a("div",[a("van-empty",{attrs:{description:"暂无数据"}})],1):t._e()],1)])])},n=[],s=(a("45fc"),{name:"MyWaybill",data:function(){return{active:0,current:1,size:10,curType:0,pageInfo:{},receivareaName:"",loading:!1,finished:!1}},created:function(){},methods:{reset:function(){var t=this;console.log("重置数据");var e={};this.$post("/waybill/addWaybillTestData",e).then((function(e){"0"===e.code||e&&e.msg&&t.$toast.fail(e.msg)}))},queryloadDicById:function(t){var e=this,a={id:t};this.$post("/dic/loadDic",a).then((function(t){"0"===t.code?(e.receivareaName=t.data.text,console.log(e.receivareaName)):t&&t.msg&&e.$toast.fail(t.msg)}))},queryPageInfo:function(t){var e=this,a={state:t};this.$post("/waybill/queryWaybillList",a).then((function(t){"0"===t.code?(e.loading=!1,e.pageInfo=t,e.pageInfo.dataList&&e.pageInfo.dataList.length>0&&e.pageInfo.dataList.some((function(t){return e.queryloadDicById(t.receivareaId),!0})),e.finished=!0):t&&t.msg&&e.$toast.fail(t.msg)}))},changeQueryByState:function(t){console.log(t),this.queryPageInfo(t)},goWaybillDetail:function(t,e){this.$router.push({name:"WaybillInfo",params:{id:t,type:e}})},queryExpressRouter:function(){console.log("查看物流")},receiptDialog:function(t){var e=this;this.$dialog.confirm({message:"确定要签收该代运单吗？",confirmButtonText:"确定"}).then((function(){e.confirmReceipt(t)}))["catch"]((function(){console.log("点击了取消")}))},confirmReceipt:function(t){var e=this;console.log("确认签收");var a={id:t};this.$post("/waybill/signWaybill",a).then((function(t){"0"===t.code?(e.$toast.success("签收成功"),e.queryPageInfo(e.curType)):t&&t.msg&&e.$toast.fail(t.msg)}))}}}),c=s,o=a("2877"),l=Object(o["a"])(c,i,n,!1,null,"a133c298",null);e["default"]=l.exports},"45fc":function(t,e,a){"use strict";var i=a("23e7"),n=a("b727").some,s=a("a640"),c=a("ae40"),o=s("some"),l=c("some");i({target:"Array",proto:!0,forced:!o||!l},{some:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-c9b4b6b8.4c512657.js.map